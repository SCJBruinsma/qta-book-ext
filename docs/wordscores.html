<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6.1 Wordscores | Introduction to Quantitative Text Analysis</title>
  <meta name="description" content="6.1 Wordscores | Introduction to Quantitative Text Analysis" />
  <meta name="generator" content="bookdown 0.43 and GitBook 2.6.7" />

  <meta property="og:title" content="6.1 Wordscores | Introduction to Quantitative Text Analysis" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6.1 Wordscores | Introduction to Quantitative Text Analysis" />
  
  
  

<meta name="author" content="Kostas Gemenis and Bastiaan Bruinsma" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="scaling.html"/>
<link rel="next" href="wordfish.html"/>
<script src="assets/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="assets/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="assets/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="assets/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 2em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introduction to Quantitative Text Analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome!</a></li>
<li class="chapter" data-level="1" data-path="preliminaries.html"><a href="preliminaries.html"><i class="fa fa-check"></i><b>1</b> Preliminaries</a>
<ul>
<li class="chapter" data-level="1.1" data-path="installing-r.html"><a href="installing-r.html"><i class="fa fa-check"></i><b>1.1</b> Installing R</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="installing-r.html"><a href="installing-r.html#windows"><i class="fa fa-check"></i><b>1.1.1</b> Windows</a></li>
<li class="chapter" data-level="1.1.2" data-path="installing-r.html"><a href="installing-r.html#linux"><i class="fa fa-check"></i><b>1.1.2</b> Linux</a></li>
<li class="chapter" data-level="1.1.3" data-path="installing-r.html"><a href="installing-r.html#macos"><i class="fa fa-check"></i><b>1.1.3</b> macOS</a></li>
<li class="chapter" data-level="1.1.4" data-path="installing-r.html"><a href="installing-r.html#cloud"><i class="fa fa-check"></i><b>1.1.4</b> Cloud</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="installing-packages.html"><a href="installing-packages.html"><i class="fa fa-check"></i><b>1.2</b> Installing Packages</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="installing-packages.html"><a href="installing-packages.html#cran"><i class="fa fa-check"></i><b>1.2.1</b> CRAN</a></li>
<li class="chapter" data-level="1.2.2" data-path="installing-packages.html"><a href="installing-packages.html#github"><i class="fa fa-check"></i><b>1.2.2</b> GitHub</a></li>
<li class="chapter" data-level="1.2.3" data-path="installing-packages.html"><a href="installing-packages.html#writing-packages"><i class="fa fa-check"></i><b>1.2.3</b> Writing Packages</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="required.html"><a href="required.html"><i class="fa fa-check"></i><b>1.3</b> Required Packages</a></li>
<li class="chapter" data-level="1.4" data-path="troubleshooting.html"><a href="troubleshooting.html"><i class="fa fa-check"></i><b>1.4</b> Troubleshooting</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="background.html"><a href="background.html"><i class="fa fa-check"></i><b>2</b> Background</a>
<ul>
<li class="chapter" data-level="2.1" data-path="concepts.html"><a href="concepts.html"><i class="fa fa-check"></i><b>2.1</b> Concepts</a></li>
<li class="chapter" data-level="2.2" data-path="workflow.html"><a href="workflow.html"><i class="fa fa-check"></i><b>2.2</b> Workflow</a></li>
<li class="chapter" data-level="2.3" data-path="validation.html"><a href="validation.html"><i class="fa fa-check"></i><b>2.3</b> Validation</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="validation.html"><a href="validation.html#validity"><i class="fa fa-check"></i><b>2.3.1</b> Validity</a></li>
<li class="chapter" data-level="2.3.2" data-path="validation.html"><a href="validation.html#reliability"><i class="fa fa-check"></i><b>2.3.2</b> Reliability</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="import.html"><a href="import.html"><i class="fa fa-check"></i><b>3</b> Text in R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>3.1</b> Basics</a></li>
<li class="chapter" data-level="3.2" data-path="import-.html"><a href="import-.html"><i class="fa fa-check"></i><b>3.2</b> Import .txt</a></li>
<li class="chapter" data-level="3.3" data-path="import-.html"><a href="import-.html#import-.pdf"><i class="fa fa-check"></i><b>3.3</b> Import .pdf</a></li>
<li class="chapter" data-level="3.4" data-path="import-.html"><a href="import-.html#import-.csv"><i class="fa fa-check"></i><b>3.4</b> Import .csv</a></li>
<li class="chapter" data-level="3.5" data-path="import-from-an-api.html"><a href="import-from-an-api.html"><i class="fa fa-check"></i><b>3.5</b> Import from an API</a></li>
<li class="chapter" data-level="3.6" data-path="import-using-web-scraping.html"><a href="import-using-web-scraping.html"><i class="fa fa-check"></i><b>3.6</b> Import using Web Scraping</a></li>
<li class="chapter" data-level="3.7" data-path="import-json-and-xml.html"><a href="import-json-and-xml.html"><i class="fa fa-check"></i><b>3.7</b> Import JSON and XML</a></li>
<li class="chapter" data-level="3.8" data-path="import-from-databases.html"><a href="import-from-databases.html"><i class="fa fa-check"></i><b>3.8</b> Import from Databases</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="describe.html"><a href="describe.html"><i class="fa fa-check"></i><b>4</b> Describe</a>
<ul>
<li class="chapter" data-level="4.1" data-path="corpus-and-dfm.html"><a href="corpus-and-dfm.html"><i class="fa fa-check"></i><b>4.1</b> Corpus and DFM</a></li>
<li class="chapter" data-level="4.2" data-path="text-pre-processing.html"><a href="text-pre-processing.html"><i class="fa fa-check"></i><b>4.2</b> Text Pre-processing</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="text-pre-processing.html"><a href="text-pre-processing.html#tokenisation-and-initial-cleaning"><i class="fa fa-check"></i><b>4.2.1</b> Tokenisation and Initial Cleaning</a></li>
<li class="chapter" data-level="4.2.2" data-path="text-pre-processing.html"><a href="text-pre-processing.html#lower-casing"><i class="fa fa-check"></i><b>4.2.2</b> Lower-casing</a></li>
<li class="chapter" data-level="4.2.3" data-path="text-pre-processing.html"><a href="text-pre-processing.html#stopword-removal"><i class="fa fa-check"></i><b>4.2.3</b> Stopword Removal</a></li>
<li class="chapter" data-level="4.2.4" data-path="text-pre-processing.html"><a href="text-pre-processing.html#n-grams-and-collocations"><i class="fa fa-check"></i><b>4.2.4</b> N-grams and Collocations</a></li>
<li class="chapter" data-level="4.2.5" data-path="text-pre-processing.html"><a href="text-pre-processing.html#stemming-and-lemmatisation"><i class="fa fa-check"></i><b>4.2.5</b> Stemming and Lemmatisation</a></li>
<li class="chapter" data-level="4.2.6" data-path="text-pre-processing.html"><a href="text-pre-processing.html#removing-sparse-features-dfm-trimming"><i class="fa fa-check"></i><b>4.2.6</b> Removing Sparse Features (DFM Trimming)</a></li>
<li class="chapter" data-level="4.2.7" data-path="text-pre-processing.html"><a href="text-pre-processing.html#additional-pre-processing"><i class="fa fa-check"></i><b>4.2.7</b> Additional Pre-Processing</a></li>
<li class="chapter" data-level="4.2.8" data-path="text-pre-processing.html"><a href="text-pre-processing.html#evaluating-pre-processing"><i class="fa fa-check"></i><b>4.2.8</b> Evaluating Pre-Processing</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="descriptives-and-visualisations.html"><a href="descriptives-and-visualisations.html"><i class="fa fa-check"></i><b>4.3</b> Descriptives and Visualisations</a></li>
<li class="chapter" data-level="4.4" data-path="text-statistics.html"><a href="text-statistics.html"><i class="fa fa-check"></i><b>4.4</b> Text Statistics</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="text-statistics.html"><a href="text-statistics.html#summary"><i class="fa fa-check"></i><b>4.4.1</b> Summary</a></li>
<li class="chapter" data-level="4.4.2" data-path="text-statistics.html"><a href="text-statistics.html#frequencies"><i class="fa fa-check"></i><b>4.4.2</b> Frequencies</a></li>
<li class="chapter" data-level="4.4.3" data-path="text-statistics.html"><a href="text-statistics.html#lexical-diversity"><i class="fa fa-check"></i><b>4.4.3</b> Lexical diversity</a></li>
<li class="chapter" data-level="4.4.4" data-path="text-statistics.html"><a href="text-statistics.html#readability"><i class="fa fa-check"></i><b>4.4.4</b> Readability</a></li>
<li class="chapter" data-level="4.4.5" data-path="text-statistics.html"><a href="text-statistics.html#similarity-and-distance"><i class="fa fa-check"></i><b>4.4.5</b> Similarity and Distance</a></li>
<li class="chapter" data-level="4.4.6" data-path="text-statistics.html"><a href="text-statistics.html#keyness"><i class="fa fa-check"></i><b>4.4.6</b> Keyness</a></li>
<li class="chapter" data-level="4.4.7" data-path="text-statistics.html"><a href="text-statistics.html#entropy"><i class="fa fa-check"></i><b>4.4.7</b> Entropy</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="exercises.html"><a href="exercises.html"><i class="fa fa-check"></i><b>4.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dictionary-analysis.html"><a href="dictionary-analysis.html"><i class="fa fa-check"></i><b>5</b> Dictionary Analysis</a>
<ul>
<li class="chapter" data-level="5.1" data-path="classical-dictionary-analysis.html"><a href="classical-dictionary-analysis.html"><i class="fa fa-check"></i><b>5.1</b> Classical Dictionary Analysis</a></li>
<li class="chapter" data-level="5.2" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html"><i class="fa fa-check"></i><b>5.2</b> Sentiment Analysis</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#movie-reviews"><i class="fa fa-check"></i><b>5.2.1</b> Movie Reviews</a></li>
<li class="chapter" data-level="5.2.2" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#twitter"><i class="fa fa-check"></i><b>5.2.2</b> Twitter</a></li>
<li class="chapter" data-level="5.2.3" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#vader"><i class="fa fa-check"></i><b>5.2.3</b> VADER</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="exercises-1.html"><a href="exercises-1.html"><i class="fa fa-check"></i><b>5.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="scaling.html"><a href="scaling.html"><i class="fa fa-check"></i><b>6</b> Scaling Methods</a>
<ul>
<li class="chapter" data-level="6.1" data-path="wordscores.html"><a href="wordscores.html"><i class="fa fa-check"></i><b>6.1</b> Wordscores</a></li>
<li class="chapter" data-level="6.2" data-path="wordfish.html"><a href="wordfish.html"><i class="fa fa-check"></i><b>6.2</b> Wordfish</a></li>
<li class="chapter" data-level="6.3" data-path="correspondence-analysis.html"><a href="correspondence-analysis.html"><i class="fa fa-check"></i><b>6.3</b> Correspondence Analysis</a></li>
<li class="chapter" data-level="6.4" data-path="exercises-2.html"><a href="exercises-2.html"><i class="fa fa-check"></i><b>6.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="supervised-methods.html"><a href="supervised-methods.html"><i class="fa fa-check"></i><b>7</b> Supervised Methods</a>
<ul>
<li class="chapter" data-level="7.1" data-path="support-vector-machines-svm.html"><a href="support-vector-machines-svm.html"><i class="fa fa-check"></i><b>7.1</b> Support Vector Machines (SVM)</a></li>
<li class="chapter" data-level="7.2" data-path="logistic-regression.html"><a href="logistic-regression.html"><i class="fa fa-check"></i><b>7.2</b> Logistic Regression</a></li>
<li class="chapter" data-level="7.3" data-path="naive-bayes-nb.html"><a href="naive-bayes-nb.html"><i class="fa fa-check"></i><b>7.3</b> Naive Bayes (NB)</a></li>
<li class="chapter" data-level="7.4" data-path="exercises-3.html"><a href="exercises-3.html"><i class="fa fa-check"></i><b>7.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="unsupervised-methods.html"><a href="unsupervised-methods.html"><i class="fa fa-check"></i><b>8</b> Unsupervised Methods</a>
<ul>
<li class="chapter" data-level="8.1" data-path="latent-dirichlet-allocation-lda.html"><a href="latent-dirichlet-allocation-lda.html"><i class="fa fa-check"></i><b>8.1</b> Latent Dirichlet Allocation (LDA)</a></li>
<li class="chapter" data-level="8.2" data-path="seeded-latent-dirichlet-allocation-slda.html"><a href="seeded-latent-dirichlet-allocation-slda.html"><i class="fa fa-check"></i><b>8.2</b> Seeded Latent Dirichlet Allocation (sLDA)</a></li>
<li class="chapter" data-level="8.3" data-path="structural-topic-model-stm.html"><a href="structural-topic-model-stm.html"><i class="fa fa-check"></i><b>8.3</b> Structural Topic Model (STM)</a></li>
<li class="chapter" data-level="8.4" data-path="latent-semantic-analysis-lsa.html"><a href="latent-semantic-analysis-lsa.html"><i class="fa fa-check"></i><b>8.4</b> Latent Semantic Analysis (LSA)</a></li>
<li class="chapter" data-level="8.5" data-path="exercises-4.html"><a href="exercises-4.html"><i class="fa fa-check"></i><b>8.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="bastiaan.bruinsma@gmail.com" target="blank">Bastiaan Bruinsma</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to Quantitative Text Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="wordscores" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Wordscores<a href="wordscores.html#wordscores" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Wordscores is a supervised scaling method that requires a set of <em>reference texts</em> for which the position on the scale of interest is already known. These positions are then used to estimate scores for individual words, which are aggregated to estimate the position of new texts (for which the position is unknown) on the same scale. The basic idea is that words that frequently appear in texts with known extreme positions on a scale are likely to indicate that position. For instance, words that frequently appear in texts known to be on the far left of the scale might receive low scores, while words that frequently appear in texts on the far right might receive high scores. The score of a new text is calculated by taking the weighted average of the scores of the words it contains, where the weights are usually the word frequencies.</p>
<p>Here, we aim to position the 2005 manifestos of the five main UK political parties (Labour, Liberal Democrats, Conservatives, Scottish National Party and Plaid Cymru) on a general left-right scale. The 2001 manifestos of the same parties are used as reference texts. We will use external ratings, such as those from the 2002 Chapel Hill Expert Survey <span class="citation">(<a href="#ref-Bakker2012a">Bakker et al., 2012</a>)</span> or other expert judgements, to determine their positions on the scale.</p>
<p>First, we load the necessary libraries and the corpus of UK party manifestos provided in <code>quanteda.corpora</code>. We then subset the corpus to include only the 2001 and 2005 manifestos of the selected parties. We then create a document feature matrix (DFM) following standard preprocessing steps.</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="wordscores.html#cb147-1" tabindex="-1"></a><span class="fu">library</span>(quanteda)</span>
<span id="cb147-2"><a href="wordscores.html#cb147-2" tabindex="-1"></a><span class="fu">library</span>(quanteda.corpora)</span>
<span id="cb147-3"><a href="wordscores.html#cb147-3" tabindex="-1"></a><span class="fu">library</span>(dplyr)  <span class="co"># For data manipulation</span></span>
<span id="cb147-4"><a href="wordscores.html#cb147-4" tabindex="-1"></a><span class="fu">library</span>(stringr)  <span class="co"># For string manipulation</span></span>
<span id="cb147-5"><a href="wordscores.html#cb147-5" tabindex="-1"></a><span class="fu">library</span>(ggplot2)  <span class="co"># For plotting</span></span>
<span id="cb147-6"><a href="wordscores.html#cb147-6" tabindex="-1"></a></span>
<span id="cb147-7"><a href="wordscores.html#cb147-7" tabindex="-1"></a><span class="co"># Load the UK manifestos corpus</span></span>
<span id="cb147-8"><a href="wordscores.html#cb147-8" tabindex="-1"></a><span class="fu">data</span>(data_corpus_ukmanifestos)</span>
<span id="cb147-9"><a href="wordscores.html#cb147-9" tabindex="-1"></a></span>
<span id="cb147-10"><a href="wordscores.html#cb147-10" tabindex="-1"></a>corpus_manifestos <span class="ot">&lt;-</span> <span class="fu">corpus_subset</span>(data_corpus_ukmanifestos, Year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2001</span>, <span class="dv">2005</span>))</span>
<span id="cb147-11"><a href="wordscores.html#cb147-11" tabindex="-1"></a>corpus_manifestos <span class="ot">&lt;-</span> <span class="fu">corpus_subset</span>(corpus_manifestos, Party <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Lab&quot;</span>, <span class="st">&quot;LD&quot;</span>, <span class="st">&quot;Con&quot;</span>,</span>
<span id="cb147-12"><a href="wordscores.html#cb147-12" tabindex="-1"></a>    <span class="st">&quot;SNP&quot;</span>, <span class="st">&quot;PCy&quot;</span>))</span>
<span id="cb147-13"><a href="wordscores.html#cb147-13" tabindex="-1"></a></span>
<span id="cb147-14"><a href="wordscores.html#cb147-14" tabindex="-1"></a><span class="co"># Tokenise the corpus with standard preprocessing</span></span>
<span id="cb147-15"><a href="wordscores.html#cb147-15" tabindex="-1"></a>data_manifestos_tokens <span class="ot">&lt;-</span> <span class="fu">tokens</span>(corpus_manifestos, <span class="at">what =</span> <span class="st">&quot;word&quot;</span>, <span class="at">remove_punct =</span> <span class="cn">TRUE</span>,</span>
<span id="cb147-16"><a href="wordscores.html#cb147-16" tabindex="-1"></a>    <span class="at">remove_symbols =</span> <span class="cn">TRUE</span>, <span class="at">remove_numbers =</span> <span class="cn">TRUE</span>, <span class="at">remove_url =</span> <span class="cn">TRUE</span>, <span class="at">remove_separators =</span> <span class="cn">TRUE</span>,</span>
<span id="cb147-17"><a href="wordscores.html#cb147-17" tabindex="-1"></a>    <span class="at">split_hyphens =</span> <span class="cn">FALSE</span>, <span class="at">include_docvars =</span> <span class="cn">TRUE</span>, <span class="at">padding =</span> <span class="cn">FALSE</span>)</span>
<span id="cb147-18"><a href="wordscores.html#cb147-18" tabindex="-1"></a></span>
<span id="cb147-19"><a href="wordscores.html#cb147-19" tabindex="-1"></a>data_manifestos_tokens <span class="ot">&lt;-</span> <span class="fu">tokens_tolower</span>(data_manifestos_tokens)</span>
<span id="cb147-20"><a href="wordscores.html#cb147-20" tabindex="-1"></a>data_manifestos_tokens <span class="ot">&lt;-</span> <span class="fu">tokens_select</span>(data_manifestos_tokens, <span class="fu">stopwords</span>(<span class="st">&quot;english&quot;</span>),</span>
<span id="cb147-21"><a href="wordscores.html#cb147-21" tabindex="-1"></a>    <span class="at">selection =</span> <span class="st">&quot;remove&quot;</span>)</span>
<span id="cb147-22"><a href="wordscores.html#cb147-22" tabindex="-1"></a></span>
<span id="cb147-23"><a href="wordscores.html#cb147-23" tabindex="-1"></a>data_manifestos_dfm <span class="ot">&lt;-</span> <span class="fu">dfm</span>(data_manifestos_tokens)</span>
<span id="cb147-24"><a href="wordscores.html#cb147-24" tabindex="-1"></a></span>
<span id="cb147-25"><a href="wordscores.html#cb147-25" tabindex="-1"></a><span class="co"># Print the document names to verify the order</span></span>
<span id="cb147-26"><a href="wordscores.html#cb147-26" tabindex="-1"></a>data_manifestos_dfm<span class="sc">@</span>Dimnames<span class="sc">$</span>docs</span></code></pre></div>
<pre><code>##  [1] &quot;UK_natl_2001_en_Con&quot; &quot;UK_natl_2001_en_Lab&quot; &quot;UK_natl_2001_en_LD&quot; 
##  [4] &quot;UK_natl_2001_en_PCy&quot; &quot;UK_natl_2001_en_SNP&quot; &quot;UK_natl_2005_en_Con&quot;
##  [7] &quot;UK_natl_2005_en_Lab&quot; &quot;UK_natl_2005_en_LD&quot;  &quot;UK_natl_2005_en_PCy&quot;
## [10] &quot;UK_natl_2005_en_SNP&quot;</code></pre>
<p>The order of the documents in the DFM is essential for assigning reference scores. We can check this by looking at the document names. Next, we set the known scores (from the 2002 Chapel Hill Expert Survey) for the reference texts (the 2001 manifestos). We set the score to ‘NA’ for the new texts (the 2005 manifestos). These scores should match the order of the documents in the DFM. Finally, we run the <code>textmodel_wordscores()</code> function, providing it with the DFM and the vector of reference scores:</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="wordscores.html#cb149-1" tabindex="-1"></a><span class="fu">library</span>(quanteda.textmodels)</span>
<span id="cb149-2"><a href="wordscores.html#cb149-2" tabindex="-1"></a></span>
<span id="cb149-3"><a href="wordscores.html#cb149-3" tabindex="-1"></a>scores <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">7.7</span>, <span class="fl">5.2</span>, <span class="fl">3.8</span>, <span class="fl">3.2</span>, <span class="dv">3</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>)</span>
<span id="cb149-4"><a href="wordscores.html#cb149-4" tabindex="-1"></a></span>
<span id="cb149-5"><a href="wordscores.html#cb149-5" tabindex="-1"></a><span class="co"># Run the Wordscores model</span></span>
<span id="cb149-6"><a href="wordscores.html#cb149-6" tabindex="-1"></a>ws <span class="ot">&lt;-</span> <span class="fu">textmodel_wordscores</span>(data_manifestos_dfm, scores)</span>
<span id="cb149-7"><a href="wordscores.html#cb149-7" tabindex="-1"></a></span>
<span id="cb149-8"><a href="wordscores.html#cb149-8" tabindex="-1"></a><span class="co"># Display the summary of the Wordscores model, including word scores</span></span>
<span id="cb149-9"><a href="wordscores.html#cb149-9" tabindex="-1"></a><span class="fu">summary</span>(ws)</span></code></pre></div>
<pre><code>## 
## Call:
## textmodel_wordscores.dfm(x = data_manifestos_dfm, y = scores)
## 
## Reference Document Statistics:
##                     score total min max   mean median
## UK_natl_2001_en_Con   7.7  7179   0  92 0.8646      0
## UK_natl_2001_en_Lab   5.2 16386   0 166 1.9735      0
## UK_natl_2001_en_LD    3.8 12338   0 101 1.4860      0
## UK_natl_2001_en_PCy   3.2  3508   0  72 0.4225      0
## UK_natl_2001_en_SNP   3.0  5692   0 108 0.6855      0
## UK_natl_2005_en_Con    NA  4349   0  46 0.5238      0
## UK_natl_2005_en_Lab    NA 13366   0 147 1.6098      0
## UK_natl_2005_en_LD     NA  9263   0 109 1.1156      0
## UK_natl_2005_en_PCy    NA  4203   0 148 0.5062      0
## UK_natl_2005_en_SNP    NA  1508   0  49 0.1816      0
## 
## Wordscores:
## (showing first 30 elements)
##         time       common        sense conservative    manifesto introduction 
##        5.828        6.525        7.359        7.143        4.475        3.979 
##        lives      raising       family       living       safely      earning 
##        6.034        4.423        5.513        4.717        5.738        6.034 
##      staying      healthy      growing        older      knowing        world 
##        6.938        4.289        4.741        6.276        7.700        4.365 
##       leader     stronger      society         town      country    civilised 
##        4.520        4.904        4.338        7.499        4.397        4.272 
##        proud    democracy   conclusion      present    ambitious    programme 
##        6.064        5.255        6.938        3.589        4.468        4.230</code></pre>
<p>The <code>summary()</code> output shows the estimated score for each word based on its distribution across the reference texts. These are the “word scores.” A text’s score is a weighted average of these word scores. Wordscores also calculates a raw score for each text. However, these raw scores are often clustered around the mean. To make the virgin text scores comparable to the reference scale, a <em>rescaling</em> step is applied. <code>predict()</code> with a <code>textmodel_wordscores</code> object performs this rescaling. There are two standard rescaling methods:</p>
<ol style="list-style-type: decimal">
<li><strong>LBG (Laver–Benoit–Garry)</strong> <span class="citation">(<a href="#ref-Laver2003a">Laver et al., 2003</a>)</span>: Rescales the raw scores linearly to match the range of the reference scores.</li>
<li><strong>MV (Martin–Vanberg)</strong> <span class="citation">(<a href="#ref-Martin2008a">Martin &amp; Vanberg, 2008</a>)</span>: Rescales the raw scores to match the median and variance of the reference scores. This method calculates standard errors and confidence intervals for the estimated text scores.</li>
</ol>
<p>Here, we apply both rescaling methods using the <code>predict()</code> function. We also request standard errors and confidence intervals for the MV rescaling:</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="wordscores.html#cb151-1" tabindex="-1"></a>pred_lbg <span class="ot">&lt;-</span> <span class="fu">predict</span>(ws, <span class="at">rescaling =</span> <span class="st">&quot;lbg&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: 2187 features in newdata not used in prediction.</code></pre>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="wordscores.html#cb153-1" tabindex="-1"></a><span class="fu">print</span>(pred_lbg)</span></code></pre></div>
<pre><code>## UK_natl_2001_en_Con UK_natl_2001_en_Lab  UK_natl_2001_en_LD UK_natl_2001_en_PCy 
##            8.773880            5.455744            3.952488            1.923355 
## UK_natl_2001_en_SNP UK_natl_2005_en_Con UK_natl_2005_en_Lab  UK_natl_2005_en_LD 
##            2.170182            5.651194            5.130845            5.036429 
## UK_natl_2005_en_PCy UK_natl_2005_en_SNP 
##            3.750297            4.285161</code></pre>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="wordscores.html#cb155-1" tabindex="-1"></a>pred_mv <span class="ot">&lt;-</span> <span class="fu">predict</span>(ws, <span class="at">rescaling =</span> <span class="st">&quot;mv&quot;</span>, <span class="at">se.fit =</span> <span class="cn">TRUE</span>, <span class="at">interval =</span> <span class="st">&quot;confidence&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: 2187 features in newdata not used in prediction.</code></pre>
<pre><code>## Warning in predict.textmodel_wordscores(ws, rescaling = &quot;mv&quot;, se.fit = TRUE, :
## More than two reference scores found with MV rescaling; using only min, max
## values.</code></pre>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="wordscores.html#cb158-1" tabindex="-1"></a><span class="fu">print</span>(pred_mv)</span></code></pre></div>
<pre><code>## $fit
##                          fit      lwr      upr
## UK_natl_2001_en_Con 7.700000 7.614308 7.785692
## UK_natl_2001_en_Lab 5.338408 5.302650 5.374166
## UK_natl_2001_en_LD  4.268507 4.227170 4.309845
## UK_natl_2001_en_PCy 2.824328 2.749561 2.899095
## UK_natl_2001_en_SNP 3.000000 2.933107 3.066893
## UK_natl_2005_en_Con 5.477515 5.379667 5.575363
## UK_natl_2005_en_Lab 5.107171 5.058585 5.155756
## UK_natl_2005_en_LD  5.039972 4.977774 5.102171
## UK_natl_2005_en_PCy 4.124604 4.035171 4.214036
## UK_natl_2005_en_SNP 4.505278 4.317356 4.693200
## 
## $se.fit
## UK_natl_2001_en_Con UK_natl_2001_en_Lab  UK_natl_2001_en_LD UK_natl_2001_en_PCy 
##          0.04372127          0.01824402          0.02109101          0.03814726 
## UK_natl_2001_en_SNP UK_natl_2005_en_Con UK_natl_2005_en_Lab  UK_natl_2005_en_LD 
##          0.03412945          0.04992337          0.02478895          0.03173450 
## UK_natl_2005_en_PCy UK_natl_2005_en_SNP 
##          0.04562959          0.09588018</code></pre>
<p>The <code>predict()</code> function returns scaled scores for reference and virgin texts. The scores for the reference texts can be used to evaluate how well the Wordscores model recovers the original known positions. The warning “n features in data not used in prediction” indicates that some words in the virgin texts were not present in the reference texts (or vice versa) and, therefore, could not be used in the scoring process. This common problem highlights the importance of vocabulary overlap between reference and novel texts (and is one of the disadvantages of using Wordscores <span class="citation">(<a href="#ref-Bruinsma2019a">Bruinsma &amp; Gemenis, 2019</a>)</span>).</p>
<p>Now, we can compare the original reference scores with those predicted by Wordscores for the reference documents to assess the model’s performance in recovering the known scores. The Concordance Correlation Coefficient (CCC) developed by <span class="citation">Lin (<a href="#ref-Lin1989a">1989</a>)</span> is an appropriate metric for this, as it measures the agreement between two variables by assessing how far the data points deviate from the 45-degree line (which would indicate perfect agreement). We calculate the CCC using the LBG scores for the 2001 manifestos and their original reference scores. We use the <code>CCC()</code> function from the <code>DescTools</code> package:</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="wordscores.html#cb160-1" tabindex="-1"></a><span class="fu">library</span>(DescTools)</span></code></pre></div>
<pre><code>## 
## Caricamento pacchetto: &#39;DescTools&#39;</code></pre>
<pre><code>## Il seguente oggetto è mascherato da &#39;package:car&#39;:
## 
##     Recode</code></pre>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="wordscores.html#cb163-1" tabindex="-1"></a><span class="co"># Create a data frame with original reference scores, and LBG predicted scores</span></span>
<span id="cb163-2"><a href="wordscores.html#cb163-2" tabindex="-1"></a><span class="co"># for the 2001 manifestos Select the first 5 rows corresponding to the 2001</span></span>
<span id="cb163-3"><a href="wordscores.html#cb163-3" tabindex="-1"></a><span class="co"># manifestos based on the dfm order</span></span>
<span id="cb163-4"><a href="wordscores.html#cb163-4" tabindex="-1"></a></span>
<span id="cb163-5"><a href="wordscores.html#cb163-5" tabindex="-1"></a>comparison_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">original_scores =</span> scores[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>], <span class="at">predicted_lbg =</span> pred_lbg[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>])</span>
<span id="cb163-6"><a href="wordscores.html#cb163-6" tabindex="-1"></a></span>
<span id="cb163-7"><a href="wordscores.html#cb163-7" tabindex="-1"></a>ccc_result <span class="ot">&lt;-</span> <span class="fu">CCC</span>(comparison_data<span class="sc">$</span>original_scores, comparison_data<span class="sc">$</span>predicted_lbg,</span>
<span id="cb163-8"><a href="wordscores.html#cb163-8" tabindex="-1"></a>    <span class="at">ci =</span> <span class="st">&quot;z-transform&quot;</span>, <span class="at">conf.level =</span> <span class="fl">0.95</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>The CCC value indicates the level of agreement. A value closer to 1 indicates greater agreement. The confidence interval provides a range for the true CCC value. We can examine the level of agreement in more detail by plotting the original scores against the predicted scores for the reference texts. Including the 45-degree line (perfect concordance) and a linear regression line (reduced major axis) helps visualise the relationship and identify potential outliers.</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="wordscores.html#cb164-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb164-2"><a href="wordscores.html#cb164-2" tabindex="-1"></a></span>
<span id="cb164-3"><a href="wordscores.html#cb164-3" tabindex="-1"></a><span class="co"># Calculate the linear model (Reduced Major Axis) for visualisation</span></span>
<span id="cb164-4"><a href="wordscores.html#cb164-4" tabindex="-1"></a></span>
<span id="cb164-5"><a href="wordscores.html#cb164-5" tabindex="-1"></a>lm_line <span class="ot">&lt;-</span> <span class="fu">lm</span>(comparison_data<span class="sc">$</span>original_scores <span class="sc">~</span> comparison_data<span class="sc">$</span>predicted_lbg)</span>
<span id="cb164-6"><a href="wordscores.html#cb164-6" tabindex="-1"></a></span>
<span id="cb164-7"><a href="wordscores.html#cb164-7" tabindex="-1"></a><span class="fu">ggplot</span>(comparison_data, <span class="fu">aes</span>(<span class="at">x =</span> original_scores, <span class="at">y =</span> predicted_lbg)) <span class="sc">+</span></span>
<span id="cb164-8"><a href="wordscores.html#cb164-8" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span> <span class="co"># Use slightly larger points</span></span>
<span id="cb164-9"><a href="wordscores.html#cb164-9" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">&quot;Original Reference Scores (2001)&quot;</span>, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">8</span>)) <span class="sc">+</span></span>
<span id="cb164-10"><a href="wordscores.html#cb164-10" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">&quot;Predicted LBG Scores (2001)&quot;</span>, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">8</span>)) <span class="sc">+</span></span>
<span id="cb164-11"><a href="wordscores.html#cb164-11" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Original vs. Predicted Scores&quot;</span>) <span class="sc">+</span></span>
<span id="cb164-12"><a href="wordscores.html#cb164-12" tabindex="-1"></a>  <span class="fu">coord_equal</span>(<span class="at">ratio =</span> <span class="dv">1</span>) <span class="sc">+</span> <span class="co"># Ensure equal scaling for x and y axes</span></span>
<span id="cb164-13"><a href="wordscores.html#cb164-13" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="dv">1</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">color =</span> <span class="st">&quot;grey&quot;</span>) <span class="sc">+</span> <span class="co"># 45-degree line</span></span>
<span id="cb164-14"><a href="wordscores.html#cb164-14" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="fu">coef</span>(lm_line)[<span class="dv">1</span>], <span class="at">slope =</span> <span class="fu">coef</span>(lm_line)[<span class="dv">2</span>], <span class="at">linetype =</span> <span class="st">&quot;solid&quot;</span>, <span class="at">color =</span> <span class="st">&quot;darkblue&quot;</span>) <span class="sc">+</span> <span class="co"># Linear regression line</span></span>
<span id="cb164-15"><a href="wordscores.html#cb164-15" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb164-16"><a href="wordscores.html#cb164-16" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">caption =</span> <span class="fu">paste</span>(<span class="st">&quot;CCC =&quot;</span>, <span class="fu">round</span>(ccc_result<span class="sc">$</span>rho.c[<span class="dv">1</span>], <span class="dv">2</span>),</span>
<span id="cb164-17"><a href="wordscores.html#cb164-17" tabindex="-1"></a>                     <span class="st">&quot;95% CI [&quot;</span>, <span class="fu">round</span>(ccc_result<span class="sc">$</span>rho.c[<span class="dv">2</span>], <span class="dv">2</span>), <span class="st">&quot;,&quot;</span>,</span>
<span id="cb164-18"><a href="wordscores.html#cb164-18" tabindex="-1"></a>                     <span class="fu">round</span>(ccc_result<span class="sc">$</span>rho.c[<span class="dv">3</span>], <span class="dv">2</span>), <span class="st">&quot;]&quot;</span>)) <span class="co"># Add CCC to caption</span></span></code></pre></div>
<p><img src="Introduction-to-Quantitative-Text-Analysis_files/figure-html/ggplot-wordscores-ccc-1.png" width="672" /></p>
<p>This graph enables us to inspect the level of agreement visually. Points close to the dashed 45-degree line suggest accurate predictions. Deviations from this line show areas where the model struggles to reproduce the original values. Identifying points far from the line (outliers) can help us to diagnose problems, such as a particular reference text whose language does not align well with its assigned score compared to the other texts.</p>
<p>As well as positioning the texts, we can look at the word scores themselves. Plotting word scores can show which words are most strongly associated with different positions on the scale. The <code>textplot_scale1d()</code> function from <code>quanteda.textplots</code> is useful. We specify <code>margin = "features"</code> to plot the word scores and can highlight specific words of interest.</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="wordscores.html#cb165-1" tabindex="-1"></a><span class="fu">library</span>(quanteda.textplots)</span>
<span id="cb165-2"><a href="wordscores.html#cb165-2" tabindex="-1"></a></span>
<span id="cb165-3"><a href="wordscores.html#cb165-3" tabindex="-1"></a><span class="co"># Plot the distribution of word scores</span></span>
<span id="cb165-4"><a href="wordscores.html#cb165-4" tabindex="-1"></a><span class="fu">textplot_scale1d</span>(ws, <span class="at">margin =</span> <span class="st">&quot;features&quot;</span>, <span class="at">highlighted =</span> <span class="fu">c</span>(<span class="st">&quot;british&quot;</span>, <span class="st">&quot;vote&quot;</span>, <span class="st">&quot;europe&quot;</span>,</span>
<span id="cb165-5"><a href="wordscores.html#cb165-5" tabindex="-1"></a>    <span class="st">&quot;taxes&quot;</span>, <span class="st">&quot;economy&quot;</span>, <span class="st">&quot;immigration&quot;</span>)  <span class="co"># Highlight relevant words on the plot</span></span>
<span id="cb165-6"><a href="wordscores.html#cb165-6" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="Introduction-to-Quantitative-Text-Analysis_files/figure-html/wordscores-textplotscale-features-1.png" width="672" /></p>
<p>The position of words on the scale indicates their estimated ideological leaning based on the reference texts. Words like ‘taxes’ or ‘economy’ might be expected to fall towards one end (e.g. left). In contrast, words related to national identity or immigration might be closer to the other (e.g. right), depending on the corpus and the reference scores.</p>
<p>Finally, we can examine the confidence intervals around the estimated text scores, which is particularly important for the virgin texts, as it measures the uncertainty in their estimated positions. The <code>textplot_scale1d()</code> function can also plot document scores with confidence intervals when <code>margin = "documents"</code> is specified, but this requires the standard errors to be available, which is the case for the MV rescaling method (<code>pred_mv</code>):</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="wordscores.html#cb166-1" tabindex="-1"></a><span class="fu">textplot_scale1d</span>(pred_mv, <span class="at">margin =</span> <span class="st">&quot;documents&quot;</span>  <span class="co"># Specify that we want to plot document scores</span></span>
<span id="cb166-2"><a href="wordscores.html#cb166-2" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="Introduction-to-Quantitative-Text-Analysis_files/figure-html/wordscores-textplotscale-documents-1.png" width="672" /></p>
<p>The length of the error bars in this graph indicates the width of the confidence interval. Longer error bars indicate greater uncertainty in the estimated position of the document in question. This uncertainty may be due to various factors, such as the number of dictionary words in the document, variability in the scores of these words and the quantity and quality of the reference texts. We can manually create this document scaling plot using <code>ggplot2</code> and the results from <code>pred_mv</code>. This requires manipulating the data to extract the scores and confidence intervals and document information into a data frame, for which we can use the <code>dplyr</code> package:</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="wordscores.html#cb167-1" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb167-2"><a href="wordscores.html#cb167-2" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb167-3"><a href="wordscores.html#cb167-3" tabindex="-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb167-4"><a href="wordscores.html#cb167-4" tabindex="-1"></a></span>
<span id="cb167-5"><a href="wordscores.html#cb167-5" tabindex="-1"></a><span class="co"># Extract predicted fit and standard error</span></span>
<span id="cb167-6"><a href="wordscores.html#cb167-6" tabindex="-1"></a></span>
<span id="cb167-7"><a href="wordscores.html#cb167-7" tabindex="-1"></a>scores_fit <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(pred_mv<span class="sc">$</span>fit) <span class="sc">%&gt;%</span></span>
<span id="cb167-8"><a href="wordscores.html#cb167-8" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">fit =</span> <span class="dv">1</span>) <span class="co"># Rename the column to &#39;fit&#39;</span></span>
<span id="cb167-9"><a href="wordscores.html#cb167-9" tabindex="-1"></a></span>
<span id="cb167-10"><a href="wordscores.html#cb167-10" tabindex="-1"></a>scores_se <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(pred_mv<span class="sc">$</span>se.fit) <span class="sc">%&gt;%</span></span>
<span id="cb167-11"><a href="wordscores.html#cb167-11" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">se =</span> <span class="dv">1</span>) <span class="co"># Rename the column to &#39;se&#39;</span></span>
<span id="cb167-12"><a href="wordscores.html#cb167-12" tabindex="-1"></a></span>
<span id="cb167-13"><a href="wordscores.html#cb167-13" tabindex="-1"></a><span class="co"># Combine fit and SE data frames and add document metadata</span></span>
<span id="cb167-14"><a href="wordscores.html#cb167-14" tabindex="-1"></a></span>
<span id="cb167-15"><a href="wordscores.html#cb167-15" tabindex="-1"></a>data_textplot <span class="ot">&lt;-</span> scores_fit <span class="sc">%&gt;%</span></span>
<span id="cb167-16"><a href="wordscores.html#cb167-16" tabindex="-1"></a>  <span class="fu">bind_cols</span>(scores_se) <span class="sc">%&gt;%</span> <span class="co"># Combine the &#39;fit&#39; and &#39;se&#39; data frames side by side</span></span>
<span id="cb167-17"><a href="wordscores.html#cb167-17" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="st">&quot;doc_id&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># Convert the row names (which are the document IDs) into a new column named &#39;doc_id&#39;</span></span>
<span id="cb167-18"><a href="wordscores.html#cb167-18" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb167-19"><a href="wordscores.html#cb167-19" tabindex="-1"></a>    <span class="at">lwr =</span> fit <span class="sc">-</span> <span class="fl">1.96</span> <span class="sc">*</span> se,</span>
<span id="cb167-20"><a href="wordscores.html#cb167-20" tabindex="-1"></a>    <span class="co"># Calculate the lower bound of the 95% confidence interval (assuming normal distribution)</span></span>
<span id="cb167-21"><a href="wordscores.html#cb167-21" tabindex="-1"></a>    <span class="at">upr =</span> fit <span class="sc">+</span> <span class="fl">1.96</span> <span class="sc">*</span> se,</span>
<span id="cb167-22"><a href="wordscores.html#cb167-22" tabindex="-1"></a>    <span class="co"># Calculate the upper bound of the 95% confidence interval</span></span>
<span id="cb167-23"><a href="wordscores.html#cb167-23" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">factor</span>(<span class="fu">str_extract</span>(doc_id, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">d{4}&quot;</span>)),</span>
<span id="cb167-24"><a href="wordscores.html#cb167-24" tabindex="-1"></a>    <span class="co"># Extract the year (four digits) from the doc_id and convert to a factor</span></span>
<span id="cb167-25"><a href="wordscores.html#cb167-25" tabindex="-1"></a>    <span class="at">party =</span> <span class="fu">str_replace</span>(doc_id, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">d{4}_&quot;</span>, <span class="st">&quot;&quot;</span>),</span>
<span id="cb167-26"><a href="wordscores.html#cb167-26" tabindex="-1"></a>    <span class="co"># Remove the year and underscore from the doc_id to get the party name</span></span>
<span id="cb167-27"><a href="wordscores.html#cb167-27" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">factor</span>(<span class="fu">paste</span>(party, year), <span class="at">levels =</span> <span class="fu">paste</span>(party, year)[<span class="fu">order</span>(fit)]) <span class="co"># Create a combined label of party and year, ordered by the &#39;fit&#39; score for plotting</span></span>
<span id="cb167-28"><a href="wordscores.html#cb167-28" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb167-29"><a href="wordscores.html#cb167-29" tabindex="-1"></a>  <span class="fu">select</span>(doc_id, fit, lwr, upr, se, year, party, label) <span class="co"># Select and reorder the columns</span></span>
<span id="cb167-30"><a href="wordscores.html#cb167-30" tabindex="-1"></a></span>
<span id="cb167-31"><a href="wordscores.html#cb167-31" tabindex="-1"></a><span class="fu">head</span>(data_textplot)</span></code></pre></div>
<pre><code>##                doc_id      fit      lwr      upr         se year          party
## 1 UK_natl_2001_en_Con 7.700000 7.614306 7.785694 0.04372127 2001 UK_natl_en_Con
## 2 UK_natl_2001_en_Lab 5.338408 5.302650 5.374166 0.01824402 2001 UK_natl_en_Lab
## 3  UK_natl_2001_en_LD 4.268507 4.227169 4.309846 0.02109101 2001  UK_natl_en_LD
## 4 UK_natl_2001_en_PCy 2.824328 2.749560 2.899097 0.03814726 2001 UK_natl_en_PCy
## 5 UK_natl_2001_en_SNP 3.000000 2.933106 3.066894 0.03412945 2001 UK_natl_en_SNP
## 6 UK_natl_2005_en_Con 5.477515 5.379665 5.575364 0.04992337 2005 UK_natl_en_Con
##                 label
## 1 UK_natl_en_Con 2001
## 2 UK_natl_en_Lab 2001
## 3  UK_natl_en_LD 2001
## 4 UK_natl_en_PCy 2001
## 5 UK_natl_en_SNP 2001
## 6 UK_natl_en_Con 2005</code></pre>
<p>Now that we have the data in a convenient format, we can plot the estimated document positions with their confidence intervals using <code>ggplot2</code>. Ordering the documents by their estimated score on the y-axis is often helpful for visualisation.</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="wordscores.html#cb169-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb169-2"><a href="wordscores.html#cb169-2" tabindex="-1"></a></span>
<span id="cb169-3"><a href="wordscores.html#cb169-3" tabindex="-1"></a><span class="fu">ggplot</span>(data_textplot, <span class="fu">aes</span>(<span class="at">x =</span> fit, <span class="at">y =</span> label, <span class="at">colour =</span> year)) <span class="sc">+</span></span>
<span id="cb169-4"><a href="wordscores.html#cb169-4" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb169-5"><a href="wordscores.html#cb169-5" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">&quot;Left - Right Score&quot;</span>) <span class="sc">+</span></span>
<span id="cb169-6"><a href="wordscores.html#cb169-6" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmax =</span> upr, <span class="at">xmin =</span> lwr),</span>
<span id="cb169-7"><a href="wordscores.html#cb169-7" tabindex="-1"></a>                 <span class="at">height =</span> <span class="dv">0</span>,</span>
<span id="cb169-8"><a href="wordscores.html#cb169-8" tabindex="-1"></a>                 <span class="at">linewidth =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb169-9"><a href="wordscores.html#cb169-9" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb169-10"><a href="wordscores.html#cb169-10" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(</span>
<span id="cb169-11"><a href="wordscores.html#cb169-11" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;2001&quot;</span> <span class="ot">=</span> <span class="st">&quot;#ffa600&quot;</span>, <span class="st">&quot;2005&quot;</span> <span class="ot">=</span> <span class="st">&quot;#ff6361&quot;</span>),</span>
<span id="cb169-12"><a href="wordscores.html#cb169-12" tabindex="-1"></a>    <span class="co"># Define custom colours for the years 2001 and 2005</span></span>
<span id="cb169-13"><a href="wordscores.html#cb169-13" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">&quot;Years&quot;</span></span>
<span id="cb169-14"><a href="wordscores.html#cb169-14" tabindex="-1"></a>  ) <span class="sc">+</span> <span class="co"># Set the title for the colour legend</span></span>
<span id="cb169-15"><a href="wordscores.html#cb169-15" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Left-Right Distribution of UK Party Manifestos (Wordscores MV)&quot;</span>,</span>
<span id="cb169-16"><a href="wordscores.html#cb169-16" tabindex="-1"></a>          <span class="at">subtitle =</span> <span class="st">&quot;with 95% confidence intervals&quot;</span>) <span class="sc">+</span></span>
<span id="cb169-17"><a href="wordscores.html#cb169-17" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb169-18"><a href="wordscores.html#cb169-18" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb169-19"><a href="wordscores.html#cb169-19" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb169-20"><a href="wordscores.html#cb169-20" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span>,</span>
<span id="cb169-21"><a href="wordscores.html#cb169-21" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_blank</span>()</span>
<span id="cb169-22"><a href="wordscores.html#cb169-22" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="Introduction-to-Quantitative-Text-Analysis_files/figure-html/ggplot-wordscores-textplotscale-1.png" width="672" /></p>
<p>This graph shows the estimated left-right position of each manifesto in 2001 and 2005, as well as the uncertainty of the 2005 estimates. It shows the parties’ relative positions and how their estimated values may have changed between the two election years. The width of the confidence intervals indicates which estimates are less specific, potentially because of limited text length or vocabulary overlap with the reference texts.</p>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="2">
<div id="ref-Bakker2012a" class="csl-entry">
Bakker, R., Vries, C. de, Edwards, E., Hooghe, L., Jolly, S., Marks, G., Polk, J., Rovny, J., Steenbergen, M. R., &amp; Vachudova, M. A. (2012). Measuring party positions in europe: The chapel hill expert survey trend file, 1999-2010. <em>Party Politics</em>, <em>21</em>(1), 1–15. <a href="https://doi.org/10.1177/1354068812462931">https://doi.org/10.1177/1354068812462931</a>
</div>
<div id="ref-Bruinsma2019a" class="csl-entry">
Bruinsma, B., &amp; Gemenis, K. (2019). <span class="nocase">Validating Wordscores: The Promises and Pitfalls of Computational Text Scaling</span>. <em>Communication Methods and Measures</em>, <em>13</em>(3), 212–227. <a href="https://doi.org/10.1080/19312458.2019.1594741">https://doi.org/10.1080/19312458.2019.1594741</a>
</div>
<div id="ref-Laver2003a" class="csl-entry">
Laver, M., Benoit, K., &amp; Garry, J. (2003). Extracting policy positions from political texts using words as data. <em>The American Political Science Review</em>, <em>97</em>(2), 311–331. <a href="https://doi.org/10.1017/S0003055403000698">https://doi.org/10.1017/S0003055403000698</a>
</div>
<div id="ref-Lin1989a" class="csl-entry">
Lin, L. (1989). A concordance correlation coefficient to evaluate reproducibility. <em>Biometrics</em>, <em>45</em>, 255–268. <a href="https://doi.org/10.2307/2532051">https://doi.org/10.2307/2532051</a>
</div>
<div id="ref-Martin2008a" class="csl-entry">
Martin, L. W., &amp; Vanberg, G. (2008). Reply to benoit and laver. <em>Political Analysis</em>, <em>16</em>(1), 112–114. <a href="https://doi.org/10.1093/pan/mpm018">https://doi.org/10.1093/pan/mpm018</a>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="scaling.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="wordfish.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["Introduction to Quantitative Text Analysis.pdf", "Introduction to Quantitative Text Analysis.epub"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  },
  "toolbar": {
    "position": "static"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
